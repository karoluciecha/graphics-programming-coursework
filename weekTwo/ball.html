
<!DOCTYPE html>

<html>

  <head>
    <meta charset="UTF-8">
    <title>Canvas</title>

    <style type="text/css">
      body {
          background-color: white;
      }
      
      canvas {
        border: 1px solid black;
      }

      h1 {
        text-align: center;
      }
    </style>

  </head>

  <body>
    <h1>Karol Uciecha: G00436758</h1>
    <canvas id="canvas-for-ball" width="500" height="500"></canvas>

    <script type="text/javascript">
      canvasHeight = 500;
      canvasWidth = 500;
      // Gets a handle to the element with id canvasOne.
      let canvas = document.getElementById("canvas-for-ball");
      // Get a 2D context for the canvas.
      let ctx = canvas.getContext("2d");
      
      // The properties of the ball.
      let ballY = 10;
      let ballX = 50;
      let ballR = 5;
      let ballYSpeed = 10;
      let ballXSpeed = 1;
      let ballYBounceSpeed = -0.9;
      let ballXBounceSpeed = -1;


      // A function to repeat every time the animation loops.
      function repeatme() {
        ctx.clearRect(0, 0, canvasHeight, canvasWidth);

        // Draw the ball (stroked, not filled).
        ctx.beginPath();
        ctx.arc(ballX, ballY, ballR, 0, 2 * Math.PI);
        ctx.stroke();
        
        // Update the y location.
        ballY += ballYSpeed;
        ballX += ballXSpeed;

        if (ballY >= canvasWidth - ballR) {
          // Added so when the ball slows down doesn't get stuck on the edge
          ballY = canvasWidth - ballR;
          ballYSpeed = ballYSpeed * ballYBounceSpeed;
        }
        else if (ballY <= 0 + ballR) {
          // Added so when the ball slows down doesn't get stuck on the edge
          ballY = 0 + ballR;
          ballYSpeed = ballYSpeed * ballYBounceSpeed;
        }
        else if (ballX >= canvasWidth - ballR) {
          // Added so when the ball slows down doesn't get stuck on the edge
          ballX = canvasWidth - ballR;
          ballXSpeed = ballXSpeed * ballXBounceSpeed;
        }

        window.requestAnimationFrame(repeatme);
      }
      
      // Get the animation going.
      repeatme();
    </script>

  </body>

</html>